# FreeGIF v2.0 更新说明

## 修复记录

### v2.0.1 (最新)
- ✅ 修复启动时自动进入录制模式的问题
- ✅ 修复选择区域后无法开始录制的问题
- ✅ 优化启动流程，显示友好的空状态界面
- ✅ 完善模式切换逻辑（录制模式 ↔ 编辑模式）

## 主要改进

### 1. 统一界面设计
- **录制和编辑整合**：录制和编辑功能现在在同一个窗口中完成，类似 ScreenToGif 的体验
- **流畅切换**：录制完成后自动切换到编辑模式，无需打开新窗口
- **实时预览**：录制时可以实时看到录制区域的内容

### 2. 优化的 UI 布局
- **编辑器布局**：
  - 左侧：预览面板（占主要空间）
  - 右侧：工具面板（280px 固定宽度）
  - 底部：时间轴和播放控制
- **录制界面**：
  - 全屏预览录制内容
  - 底部控制栏显示录制时长和停止按钮
- **暗色主题**：使用专业的暗色配色方案

### 3. 新增功能
- **实时计时器**：录制时显示已录制时长
- **实时预览**：录制过程中实时显示正在录制的内容
- **重新录制**：编辑模式下可以快速返回重新选择区域录制

## 界面布局

### 录制模式
```
┌────────────────────────────────────┐
│                                    │
│         录制预览区域                │
│      （显示正在录制的内容）         │
│                                    │
├────────────────────────────────────┤
│  ● 00:05  [停止录制]               │
└────────────────────────────────────┘
```

### 编辑模式
```
┌──────────────────────────────────────────────┐
│ 编辑 GIF      [重新录制] [导出 GIF]         │
├─────────────────────────────┬────────────────┤
│                             │  裁剪帧        │
│                             │  ├ 开始帧: 0   │
│     GIF 预览区域            │  ├ 结束帧: 50  │
│                             │  └ [应用裁剪]  │
│                             │                │
├─────────────────────────────┤  播放速度      │
│ [播放] [上一帧] [下一帧]    │  └ 100ms       │
│ 帧 1 / 50                   │                │
├─────────────────────────────┤  压缩质量      │
│ ████████████████████        │  └ 80%         │
└─────────────────────────────┴────────────────┘
```

## 工作流程

1. **启动应用** → 点击"开始录制"
2. **选择区域** → 拖动鼠标框选要录制的区域
3. **开始录制** → 自动开始录制，显示实时预览和计时
4. **停止录制** → 点击"停止录制"按钮
5. **编辑 GIF** → 自动切换到编辑模式
   - 预览和播放
   - 裁剪不需要的帧
   - 调整播放速度
   - 设置压缩质量
6. **导出 GIF** → 点击"导出 GIF"保存文件

## 技术优化

- 移除了独立的编辑器窗口
- 优化了窗口管理逻辑
- 改进了内存使用（单窗口设计）
- 更流畅的用户体验

## 使用建议

- **录制时长**：建议控制在 10 秒以内
- **录制区域**：建议不超过 800x600 像素
- **帧率**：默认 10 FPS，最多 100 帧
- **质量设置**：70-80% 可以在文件大小和质量间取得平衡

## 快捷操作

- **ESC**：取消区域选择
- **重新录制**：编辑模式下点击"重新录制"按钮
- **帧导航**：使用"上一帧"/"下一帧"按钮精确控制

## 下一步计划

- [ ] 添加更多编辑功能（旋转、裁剪画面）
- [ ] 支持添加文字和标注
- [ ] 支持多种导出格式（MP4, WebM）
- [ ] 快捷键支持
